# 管理員設定指南

## 概述

SlideAI 系統支援管理員權限，管理員可以：
- 無限制使用所有 AI 功能（不受每日使用次數限制）
- 訪問管理員介面查看用戶統計
- 查看系統使用情況

## 創建管理員用戶

### 方法一：使用腳本（推薦）

1. **進入後端目錄**：
   ```bash
   cd backend
   ```

2. **執行管理員創建腳本**：
   ```bash
   python create_admin.py
   ```

3. **按照提示輸入**：
   - 管理員 Email
   - 管理員密碼

### 方法二：手動創建

如果您想要手動創建管理員用戶，可以使用以下方法：

#### 本地開發環境

1. **啟動後端服務**：
   ```bash
   cd backend
   uvicorn main:app --reload
   ```

2. **註冊普通用戶**：
   - 訪問前端註冊頁面
   - 註冊一個新帳戶

3. **直接修改資料庫**：
   ```bash
   # 使用 SQLite 瀏覽器或命令行
   sqlite3 test.db
   UPDATE users SET is_admin = 1 WHERE email = 'your-email@example.com';
   ```

#### 生產環境 (Render.com)

1. **連接到 Render.com 資料庫**：
   - 在 Render.com 控制台找到您的 PostgreSQL 資料庫
   - 使用提供的連接資訊

2. **執行 SQL 命令**：
   ```sql
   UPDATE users SET is_admin = true WHERE email = 'your-email@example.com';
   ```

## 管理員功能

### 前端管理員介面

管理員登入後可以訪問：
- `/admin` - 管理員儀表板
- 查看用戶統計
- 查看使用情況
- 查看系統狀態

### 管理員權限

1. **無限制使用**：
   - 不受每日使用次數限制
   - 可以無限次使用 AI 功能

2. **管理功能**：
   - 查看所有用戶列表
   - 查看使用統計
   - 查看系統狀態

## 安全注意事項

1. **強密碼**：
   - 管理員密碼應該足夠複雜
   - 建議使用 12 位以上的密碼
   - 包含大小寫字母、數字和特殊字符

2. **定期更換**：
   - 定期更換管理員密碼
   - 不要在多個系統使用相同密碼

3. **訪問控制**：
   - 限制管理員帳戶的訪問
   - 只在必要時使用管理員權限

## 故障排除

### 問題：無法創建管理員用戶

**可能原因**：
- 資料庫連接問題
- 環境變數設定錯誤
- 權限不足

**解決方案**：
1. 檢查 `DATABASE_URL` 環境變數
2. 確認資料庫連接正常
3. 檢查錯誤日誌

### 問題：管理員登入後看不到管理員介面

**可能原因**：
- `is_admin` 欄位未正確設定
- 前端緩存問題

**解決方案**：
1. 確認資料庫中 `is_admin = true`
2. 清除瀏覽器緩存
3. 重新登入

### 問題：管理員功能無法使用

**可能原因**：
- API 端點權限問題
- 前端路由問題

**解決方案**：
1. 檢查後端 API 是否正常
2. 確認前端路由設定
3. 檢查瀏覽器開發者工具錯誤

## 開發環境測試

在本地開發環境中測試管理員功能：

1. **創建管理員用戶**：
   ```bash
   cd backend
   python create_admin.py
   ```

2. **啟動後端**：
   ```bash
   uvicorn main:app --reload
   ```

3. **啟動前端**：
   ```bash
   cd frontend
   npm run dev
   ```

4. **測試登入**：
   - 使用管理員帳戶登入
   - 確認可以看到管理員介面
   - 測試管理員功能

## 生產環境部署

在 Render.com 上部署後：

1. **連接到生產資料庫**：
   - 使用 Render.com 提供的資料庫連接資訊

2. **創建管理員用戶**：
   ```bash
   # 在本地執行，但連接到生產資料庫
   DATABASE_URL="your-production-database-url" python create_admin.py
   ```

3. **驗證功能**：
   - 使用管理員帳戶登入生產環境
   - 確認所有功能正常運作 