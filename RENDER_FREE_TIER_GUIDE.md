# ğŸ†“ Render.com å…è²»æ–¹æ¡ˆéƒ¨ç½²æŒ‡å—

## ğŸ“‹ å…è²»æ–¹æ¡ˆé™åˆ¶èˆ‡å°ç­–

### â° ä¼‘çœ æ©Ÿåˆ¶è™•ç†

**å•é¡Œ**: 15åˆ†é˜ç„¡æ´»å‹•å¾Œè‡ªå‹•ä¼‘çœ ï¼Œé¦–æ¬¡è«‹æ±‚éœ€è¦30-60ç§’å•Ÿå‹•
**å°ç­–**:
1. **å‰ç«¯å„ªåŒ–**: æ·»åŠ è¼‰å…¥ç‹€æ…‹å’Œé‡è©¦æ©Ÿåˆ¶
2. **å¥åº·æª¢æŸ¥**: å®šæœŸ ping å¾Œç«¯ä¿æŒæ´»èº
3. **ç”¨æˆ¶é«”é©—**: å‘ŠçŸ¥ç”¨æˆ¶é¦–æ¬¡è¼‰å…¥éœ€è¦ç­‰å¾…

### ğŸ’¾ è¨˜æ†¶é«”é™åˆ¶ (512MB)

**å•é¡Œ**: è¨˜æ†¶é«”æœ‰é™ï¼Œå¯èƒ½å½±éŸ¿æª”æ¡ˆè™•ç†
**å°ç­–**:
1. **æª”æ¡ˆå¤§å°é™åˆ¶**: é™åˆ¶ä¸Šå‚³æª”æ¡ˆå¤§å°
2. **è¨˜æ†¶é«”å„ªåŒ–**: ä½¿ç”¨ä¸²æµè™•ç†å¤§æª”æ¡ˆ
3. **æ¸…ç†æ©Ÿåˆ¶**: åŠæ™‚æ¸…ç†æš«å­˜æª”æ¡ˆ

### ğŸ—„ï¸ è³‡æ–™åº«é™åˆ¶ (90å°æ™‚/æœˆ)

**å•é¡Œ**: è³‡æ–™åº«ä½¿ç”¨æ™‚é–“æœ‰é™
**å°ç­–**:
1. **é€£æ¥æ± å„ªåŒ–**: æ¸›å°‘è³‡æ–™åº«é€£æ¥æ•¸
2. **æŸ¥è©¢å„ªåŒ–**: é¿å…ä¸å¿…è¦çš„è³‡æ–™åº«æŸ¥è©¢
3. **å¿«å–æ©Ÿåˆ¶**: ä½¿ç”¨è¨˜æ†¶é«”å¿«å–æ¸›å°‘è³‡æ–™åº«è² è¼‰

## ğŸ”§ å…è²»æ–¹æ¡ˆå„ªåŒ–é…ç½®

### 1. å¾Œç«¯å„ªåŒ–

```python
# åœ¨ main.py ä¸­æ·»åŠ è¨˜æ†¶é«”ç›£æ§
import psutil
import gc

@app.get('/health')
def health_check():
    """å¥åº·æª¢æŸ¥ç«¯é» - åŒ…å«è¨˜æ†¶é«”ä½¿ç”¨æƒ…æ³"""
    memory = psutil.virtual_memory()
    return {
        "status": "healthy",
        "timestamp": datetime.utcnow().isoformat(),
        "memory_usage": {
            "percent": memory.percent,
            "available_mb": memory.available // 1024 // 1024,
            "total_mb": memory.total // 1024 // 1024
        }
    }

# æª”æ¡ˆä¸Šå‚³å¤§å°é™åˆ¶
MAX_FILE_SIZE = 50 * 1024 * 1024  # 50MB (å…è²»æ–¹æ¡ˆå»ºè­°)
```

### 2. å‰ç«¯å„ªåŒ–

```javascript
// æ·»åŠ é‡è©¦æ©Ÿåˆ¶å’Œè¼‰å…¥ç‹€æ…‹
const apiCallWithRetry = async (url, options, maxRetries = 3) => {
  for (let i = 0; i < maxRetries; i++) {
    try {
      const response = await fetch(url, options);
      if (response.ok) return response;
    } catch (error) {
      if (i === maxRetries - 1) throw error;
      // ç­‰å¾…å¾Œé‡è©¦
      await new Promise(resolve => setTimeout(resolve, 2000 * (i + 1)));
    }
  }
};
```

### 3. è³‡æ–™åº«å„ªåŒ–

```python
# å„ªåŒ–è³‡æ–™åº«é€£æ¥
from sqlalchemy.pool import QueuePool

engine = create_engine(
    DATABASE_URL,
    poolclass=QueuePool,
    pool_size=5,  # æ¸›å°‘é€£æ¥æ± å¤§å°
    max_overflow=10,
    pool_pre_ping=True,  # è‡ªå‹•æª¢æŸ¥é€£æ¥
    pool_recycle=3600  # 1å°æ™‚å¾Œå›æ”¶é€£æ¥
)
```

## ğŸš€ éƒ¨ç½²æ­¥é©Ÿ

### 1. æº–å‚™ Render.com å¸³è™Ÿ

1. **è¨»å†Š Render.com å¸³è™Ÿ**
2. **é©—è­‰ GitHub å¸³è™Ÿ**
3. **ç¢ºä¿æœ‰è¶³å¤ çš„å…è²»é¡åº¦**

### 2. éƒ¨ç½²å¾Œç«¯

1. **ä½¿ç”¨ Blueprint éƒ¨ç½²**:
   - ç™»å…¥ Render.com
   - é»æ“Š "New +" â†’ "Blueprint"
   - é€£æ¥ GitHub å°ˆæ¡ˆ
   - é¸æ“‡åŒ…å« `render.yaml` çš„å°ˆæ¡ˆ
   - é»æ“Š "Apply"

2. **è¨­å®šç’°å¢ƒè®Šæ•¸**:
   - `SECRET_KEY`: ç”Ÿæˆå¼·å¯†ç¢¼
   - `DAILY_USAGE_LIMIT`: 5 (æˆ–æ›´å°‘ä»¥ç¯€çœè³‡æº)
   - `CORS_ORIGINS`: æ‚¨çš„å‰ç«¯ URL

### 3. å‰µå»ºç®¡ç†å“¡å¸³è™Ÿ

```bash
# åœ¨ Render.com çš„ Shell ä¸­åŸ·è¡Œ
cd /opt/render/project/src
python create_admin.py admin@example.com your_password
```

## ğŸ“Š ç›£æ§èˆ‡ç¶­è­·

### 1. è³‡æºç›£æ§

- **è¨˜æ†¶é«”ä½¿ç”¨**: ä¿æŒåœ¨ 400MB ä»¥ä¸‹
- **è³‡æ–™åº«ä½¿ç”¨æ™‚é–“**: ç›£æ§å‰©é¤˜æ™‚é–“
- **å›æ‡‰æ™‚é–“**: é¦–æ¬¡è«‹æ±‚å¯èƒ½è¼ƒæ…¢

### 2. æˆæœ¬æ§åˆ¶

- **æª”æ¡ˆå¤§å°é™åˆ¶**: 50MB ä»¥ä¸‹
- **ä½¿ç”¨æ¬¡æ•¸é™åˆ¶**: æ¯æ—¥ 5 æ¬¡
- **è³‡æ–™åº«æŸ¥è©¢**: å„ªåŒ–æŸ¥è©¢æ¸›å°‘è² è¼‰

### 3. ç”¨æˆ¶é«”é©—

- **è¼‰å…¥æç¤º**: å‘ŠçŸ¥ç”¨æˆ¶é¦–æ¬¡è¼‰å…¥éœ€è¦ç­‰å¾…
- **éŒ¯èª¤è™•ç†**: å„ªé›…çš„éŒ¯èª¤è¨Šæ¯
- **é‡è©¦æ©Ÿåˆ¶**: è‡ªå‹•é‡è©¦å¤±æ•—çš„è«‹æ±‚

## ğŸ’¡ å…è²»æ–¹æ¡ˆä½¿ç”¨æŠ€å·§

### 1. ä¿æŒæœå‹™æ´»èº

```bash
# ä½¿ç”¨ cron job å®šæœŸ ping æœå‹™
# æ¯ 10 åˆ†é˜ ping ä¸€æ¬¡å¥åº·æª¢æŸ¥ç«¯é»
*/10 * * * * curl -s https://your-app.onrender.com/health > /dev/null
```

### 2. æª”æ¡ˆè™•ç†å„ªåŒ–

```python
# ä½¿ç”¨ä¸²æµè™•ç†å¤§æª”æ¡ˆ
async def process_large_file(file_path):
    chunk_size = 1024 * 1024  # 1MB chunks
    with open(file_path, 'rb') as f:
        while chunk := f.read(chunk_size):
            # è™•ç†æª”æ¡ˆå¡Š
            yield chunk
```

### 3. è³‡æ–™åº«æŸ¥è©¢å„ªåŒ–

```python
# ä½¿ç”¨ç´¢å¼•å’Œé™åˆ¶æŸ¥è©¢çµæœ
@app.get('/api/admin/user-list')
def admin_user_list(token: str = Depends(oauth2_scheme), db: Session = Depends(get_db)):
    # é™åˆ¶æŸ¥è©¢çµæœæ•¸é‡
    users = db.query(User).limit(100).all()
    return [{"id": u.id, "email": u.email, "created_at": str(u.created_at)} for u in users]
```

## âš ï¸ æ³¨æ„äº‹é …

1. **ä¼‘çœ æ™‚é–“**: é¦–æ¬¡è«‹æ±‚æœƒè¼ƒæ…¢ï¼Œè«‹å‘ŠçŸ¥ç”¨æˆ¶
2. **æª”æ¡ˆé™åˆ¶**: å»ºè­°é™åˆ¶æª”æ¡ˆå¤§å°åœ¨ 50MB ä»¥ä¸‹
3. **ä½¿ç”¨é »ç‡**: é¿å…éæ–¼é »ç¹çš„è«‹æ±‚
4. **å‚™ä»½**: å®šæœŸå‚™ä»½é‡è¦è³‡æ–™
5. **å‡ç´š**: å¦‚æœä½¿ç”¨é‡å¢åŠ ï¼Œè€ƒæ…®å‡ç´šåˆ°ä»˜è²»æ–¹æ¡ˆ

## ğŸ”„ å‡ç´šåˆ°ä»˜è²»æ–¹æ¡ˆ

ç•¶æ‚¨çš„æ‡‰ç”¨ç¨‹å¼æˆé•·æ™‚ï¼Œå¯ä»¥è€ƒæ…®å‡ç´šï¼š

- **Starter Plan**: $7/æœˆï¼Œç„¡ä¼‘çœ é™åˆ¶
- **Standard Plan**: $25/æœˆï¼Œæ›´å¤šè³‡æº
- **Pro Plan**: $50/æœˆï¼Œå°ˆç”¨è³‡æº

## ğŸ“ æ”¯æ´

- Render.com æ–‡æª”: https://render.com/docs
- å…è²»æ–¹æ¡ˆé™åˆ¶: https://render.com/docs/free
- ç¤¾ç¾¤æ”¯æ´: https://community.render.com 